{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2 class="text-center fw-bold mb-4">ğŸ“‹ Order Status</h2>

  {% if orders %}
    {% for order in orders %}
      <div class="card mb-3 shadow-sm border-0">
        <div class="card-body">
          <h6 class="text-muted">Order #{{ order['id'] }}</h6>
          <pre class="mb-2" style="white-space: pre-wrap; word-wrap: break-word;">{{ order['message'] }}</pre>
          
          {% if order['consignment_id'] %}
            <p class="mb-2"><strong>Consignment ID:</strong> {{ order['consignment_id'] }}</p>
          {% endif %}

          <div class="d-flex flex-wrap gap-2 mt-3">
            <form action="{{ url_for('update_status', order_id=order['id'], new_status='Pending') }}" method="post">
              <button class="btn btn-outline-warning btn-sm">ğŸ•“ Pending</button>
            </form>
            <form action="{{ url_for('update_status', order_id=order['id'], new_status='Confirm') }}" method="post">
              <button class="btn btn-outline-success btn-sm">âœ… Confirm</button>
            </form>
            <form action="{{ url_for('update_status', order_id=order['id'], new_status='Cancel') }}" method="post">
              <button class="btn btn-outline-danger btn-sm">âŒ Cancel</button>
            </form>

            {% if order['consignment_id'] %}
            <a href="{{ url_for('track_order', order_id=order['id']) }}" class="btn btn-outline-info btn-sm">ğŸšš Track</a>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="alert alert-secondary text-center">No orders found yet.</div>
  {% endif %}

  <div class="text-center mt-4">
    <a href="{{ url_for('entry') }}" class="btn btn-outline-primary me-2">â• Add Order</a>
    <a href="{{ url_for('home') }}" class="btn btn-outline-secondary">ğŸ  Home</a>
  </div>
</div>
{% endblock %}
